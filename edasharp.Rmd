---
title: "R Notebook"
output: html_notebook
---


#NFL 2019-2020 EDA 

#Phil Ramontal


#Libraries
```{r}
library(tidyverse)
library(ggplot2)
library(dplyr)
library(pwr)
```

```{r}
#Data Import
nfl_19 <- read.csv("pbp-2019.csv")
nfl_19$GameDate <- as.Date(nfl_19$GameDate)
view(nfl_19)
```

```{r}

#Hypothesis: Yards gained on 4th down >=3

#NFL Week 1 2019
nfl <- nfl_19 [nfl_19$GameDate >= "2019/09/05" & nfl_19$GameDate <= "2020/02/03",]

#Plays with less than 4 yards to get 1st down
nfl_togo<- filter(nfl, ToGo < 4 & nfl$Down == "4")

#Subset "run' & "pass"

nfl_run <- subset(nfl_togo, nfl_togo$PlayType == "RUSH")

#Mean of yards gained from run play

mean(nfl_run$Yards)

#2.45 Avg yards gained

#t.test

t.test(nfl_run$Yards, mu = 2.45, alternative = "two.sided", conf.level = 0.95)

#Run power.t.test
pwr.t.test(n = 149, d = .5, sig.level = 0.5 , power = NULL, alternative = "greater", type = "one.sample" )

nfl_pass <- subset(nfl_togo, nfl_togo$PlayType == "PASS")

#Mean of yards gained from pass play

mean(nfl_pass$Yards)

#5.98 yards gained

#t.test

t.test(nfl_pass$Yards, mu = 6, alternative = "two.sided", conf.level = 0.95)

#Pass power.t.test
pwr.t.test(n = 155, d = .5, sig.level = 0.5 , power = NULL, alternative = "greater", type = "one.sample" )

```





#Defense 
```{r}
#Defensive plays inside the 40 yard line 

nfl_defense<-subset(nfl, nfl$YardLine <=60)

nfl_week1 <- nfl_defense [nfl_defense$GameDate >= "2019/09/05" & nfl_defense$GameDate <= "2019/09/08",]

                                                                                               

```

